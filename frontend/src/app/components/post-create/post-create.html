<div class="max-w-3xl my-10 p-6 bg-white shadow-xl rounded-sm mx-4 sm:mx-auto">

    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Crear Nuevo Post</h2>

    <form #f="ngForm" (ngSubmit)="createPost()" class="space-y-6">

        <div>
            <label for="title" class="block text-sm font-medium text-gray-700">Título</label>
            <input id="title" type="text" name="title" [(ngModel)]="newPostTitle" required placeholder="Escribe aquí tu título"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500" />
        </div>

        <div>
            <label for="category" class="block text-sm font-medium text-gray-700">Categoría</label>
            <input id="category" type="text" name="title" [(ngModel)]="newPostCategory" required placeholder="Ej: Tecnología"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500" />
        </div>

        <div>
            <label for="tags" class="block text-sm font-medium text-gray-700">Etiquetas</label>
            <input id="tags" type="text" name="title" [(ngModel)]="newPostTags" required placeholder="Ej: moda, arte, arquitectura"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500" />
        </div>

        <div>
            <label for="content" class="block text-sm font-medium text-gray-700">Contenido</label>
            <textarea id="content" name="content" rows="6" [(ngModel)]="newPostContent" required placeholder="Escribe aquí el contenido del post..."
                class="mt-1 block w-full border border-gray-300 rounded-sm shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500"></textarea>
        </div>

        @if (isLoading) {
        <div class="text-blue-600 font-medium text-center">Enviando post...</div>
        }
        @if (successMessage) {
        <div class="p-3 bg-green-100 text-green-700 border border-green-400 rounded-sm text-center">{{ successMessage }}
        </div>
        }

        <button type="submit" [disabled]="isLoading"
            class="w-full py-3 px-4 border border-transparent rounded-sm shadow-sm text-lg font-medium text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:bg-gray-400 cursor-pointer">
            Crear Post
        </button>

        <button type="button" routerLink="/" class="hover:bg-gray-600 cursor-pointer px-3 py-2 rounded-sm hover:text-white transition duration-150">
            ← Volver al listado de posts
        </button>

    </form>
</div>